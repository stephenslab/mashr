<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Multivariate Adaptive Shrinkage  • mashr</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Multivariate Adaptive Shrinkage ">
<meta property="og:description" content="Implements the multivariate adaptive shrinkage (mash)
    method of Urbut et al (2019) &lt;DOI:10.1038/s41588-018-0268-8&gt; for
    estimating and testing large numbers of effects in many conditions
    (or many outcomes). Mash takes an empirical Bayes approach to
    testing and effect estimation; it estimates patterns of similarity
    among conditions, then exploits these patterns to improve accuracy
    of the effect estimates. The core linear algebra is implemented in
    C++ for fast model fitting and posterior computation.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">mashr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.73</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="articles/index.html">Vignettes</a>
</li>
<li>
  <a href="reference/index.html">Functions</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/stephenslab/mashr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="mashr-multivariate-adaptive-shrinkage-in-r">mashr: Multivariate Adaptive Shrinkage in R<a class="anchor" aria-label="anchor" href="#mashr-multivariate-adaptive-shrinkage-in-r"></a>
</h1></div>
<p><a href="https://cran.r-project.org/package=mashr" class="external-link"><img src="https://www.r-pkg.org/badges/version/mashr" alt="CRAN_Status_Badge"></a> <a href="https://travis-ci.org/stephenslab/mashr/" class="external-link"><img src="https://travis-ci.org/stephenslab/mashr.svg?branch=master" alt="Travis Build Status"></a> <a href="https://app.codecov.io/gh/stephenslab/mashr/" class="external-link"><img src="https://codecov.io/gh/stephenslab/mashr/branch/master/graph/badge.svg" alt="codecov"></a></p>
<p>This package implements methods to estimate and test many effects in many conditions (or many effects on many outcomes).</p>
<p>Empirical Bayes methods are used to estimate patterns of similarity among conditions, then exploit these patterns of similarity among conditions to improve accuracy of effect estimates. See <a href="https://doi.org/10.1038/s41588-018-0268-8" class="external-link">Urbut et al</a> for details.</p>
<p><strong>Note:</strong> the R package used to generate the results for the manuscript is <a href="https://github.com/stephenslab/mashr-paper" class="external-link">here</a>.</p>
<div class="section level2">
<h2 id="quick-start">Quick Start<a class="anchor" aria-label="anchor" href="#quick-start"></a>
</h2>
<ol style="list-style-type: decimal">
<li><p>Install mashr from CRAN: <code>install.packages("mashr")</code>. For more detailed setup instructions, see below.</p></li>
<li><p>See the <a href="https://stephenslab.github.io/mashr/articles/intro_mash.html" class="external-link">introductory vignette</a> for an introduction to mashr.</p></li>
<li><p>Then walk through these vignettes to learn more about mashr: <a href="https://stephenslab.github.io/mashr/articles/intro_mash_dd.html" class="external-link">Introduction to mash: data-driven covariances</a> and <a href="https://stephenslab.github.io/mashr/articles/simulate_noncanon.html" class="external-link">Simulation with non-canonical matrices</a>.</p></li>
</ol>
</div>
<div class="section level2">
<h2 id="citing-this-work">Citing this work<a class="anchor" aria-label="anchor" href="#citing-this-work"></a>
</h2>
<p>If you find the mashr package or any of the source code in this repository useful for your work, please cite:</p>
<blockquote>
<p>Sarah Urbut, Gao Wang, Peter Carbonetto and Matthew Stephens (2019). <a href="https://doi.org/10.1038/s41588-018-0268-8" class="external-link">Flexible statistical methods for estimating and testing effects in genomic studies with multiple conditions.</a> <em>Nature Genetics</em> <strong>51</strong>, 187-195.</p>
</blockquote>
</div>
<div class="section level2">
<h2 id="setup">Setup<a class="anchor" aria-label="anchor" href="#setup"></a>
</h2>
<p>The simplest and quickest to obtain mashr is to install it from <a href="https://cran.r-project.org/package=mashr" class="external-link">CRAN</a>:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"mashr"</span><span class="op">)</span></code></pre></div>
<p>For Mac and Windows, usually the package is precompiled, so no additional compiler setup is required. If you have Linux, and in some other rare cases, you will need to make sure that your R installation is properly set up to compile packages with C++ source; in particular, the C++ compiler programs supported by your version of R should be installed on your computer, and R should be correctly configured to call these compilers when installing packages from source. For more information, see the <a href="https://cran.r-project.org/manuals.html" class="external-link">CRAN documentation</a>.</p>
<p>Alternatively, you may use <a href="https://github.com/r-lib/remotes" class="external-link">remotes</a> to install the latest version of mashr from GitHub:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span>
<span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"stephenslab/mashr"</span><span class="op">)</span></code></pre></div>
<p>This command should automatically install any missing dependencies that are available from CRAN and GitHub.</p>
</div>
<div class="section level2">
<h2 id="developer-notes">Developer notes<a class="anchor" aria-label="anchor" href="#developer-notes"></a>
</h2>
<ul>
<li><p>When any changes are made to <code>roxygen2</code> markup or the C++ code in the src directory, run <code><a href="https://rdrr.io/pkg/devtools/man/document.html" class="external-link">devtools::document()</a></code> to update the <a href="src/RcppExports.cpp">RcppExports.cpp</a>, the package namespaces (see <a href="NAMESPACE">NAMESPACE</a>), and the package documentation files (in the “man” subdirectory),</p></li>
<li>
<p>These are the R commands to build the website (make sure you are connected to Internet while running these commands):</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">pkgdown</span><span class="fu">::</span><span class="fu"><a href="https://pkgdown.r-lib.org/reference/build_site.html" class="external-link">build_site</a></span><span class="op">(</span>lazy<span class="op">=</span><span class="cn">TRUE</span>, examples<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
</li>
<li>
<p>After editing C++ code in the <code>src</code> directory, please use <a href="https://uncrustify.sourceforge.net/" class="external-link">uncrustify</a> to format the code using configuration file <code>inst/misc/uncrustify_default.cfg</code>. For example:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">uncrustify</span> <span class="at">-c</span> uncrustify_default.cfg <span class="at">--replace</span> <span class="at">--no-backup</span> <span class="at">-l</span> CPP mash.cpp</span></code></pre></div>
</li>
<li><p>Prior to submitting the package to CRAN, the following modifications need to be made: (1) remove the <code>Remotes:</code> entry in <code>DESCRIPTION</code>; and</p></li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>remove the <code>flash_mash.Rmd</code> vignette.</li>
</ol>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=mashr" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/stephenslab/mashr/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/stephenslab/mashr/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/BSD-3-Clause" class="external-link">BSD_3_clause</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing mashr</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Matthew Stephens <br><small class="roles"> Author </small>  </li>
<li>Sarah Urbut <br><small class="roles"> Author </small>  </li>
<li>Gao Wang <br><small class="roles"> Author </small>  </li>
<li>Yuxin Zou <br><small class="roles"> Author </small>  </li>
<li>Peter Carbonetto <br><small class="roles"> Author, maintainer </small>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>



  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Matthew Stephens, Sarah Urbut, Gao Wang, Yuxin Zou, Peter Carbonetto.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
