```{r}
library(Matrix)
set.seed(1)
simdata <- simple_sims(100,5,1)
dat <- mash_set_data(simdata$Bhat,simdata$Shat)
U <- cov_canonical(dat)
m <- mash(dat,U)
x <- combn(5,2)
n <- ncol(x)
contrast_mat <- as.matrix(sparseMatrix(i = rep(1:n,each = 2),
                                       j = as.vector(x),x = 1,
                                       dims = c(n,5)))
res2 <- get_posterior_condition_wise_summary(dat,m,contrast_mat)
```
